<mat-card appearance="outlined">
    <div class="login-container">
        <form (ngSubmit)="onSubmit()" [formGroup]="form" autocomplete="off">
          <mat-form-field appearance="outline">
            <mat-label>Username</mat-label>
            <input matInput placeholder="username" type="text" (input)="updateErrorMessage('username')"
            formControlName="username">
            <mat-error>{{errorMessages.username()}}</mat-error>
          </mat-form-field>
    
          <mat-form-field appearance="outline">
            <mat-label>Password</mat-label>
            <input matInput placeholder="password" type="password" (input)="updateErrorMessage('password')"
            formControlName="password">
            <mat-error>{{errorMessages.password()}}</mat-error>
          </mat-form-field>
          @if (mode==='register') {
          <mat-form-field appearance="outline">
            <mat-label>ConfirmPassword</mat-label>
            <input matInput placeholder="confirm password" type="password" (input)="updateErrorMessage('confirm_password')"
            formControlName="password">
            <mat-error>{{errorMessages.confirm_password()}}</mat-error>
          </mat-form-field>
    
         
            <mat-form-field appearance="outline">
              <mat-label>display Name</mat-label>
              <input matInput placeholder="displayname" type="text" (input)="updateErrorMessage('display_name')"
              formControlName="display_name">
              <mat-error>{{errorMessages.display_name()}}</mat-error>
            </mat-form-field>
    
          <mat-form-field appearance="outline">
            <mat-label>Date of Birth</mat-label>
            <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="picker" formControlName="date_of_birth">
            <mat-datepicker-toggle [for]="picker" startView="year" ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
    
         
            <label class="example-margin">Gender:</label>
            <mat-radio-group formControlName="gender">
              <mat-radio-button class="example-margin" value="male">Male</mat-radio-button>
              <mat-radio-button class="example-margin" value="female">Female</mat-radio-button>
              <mat-radio-button class="example-margin" value="All">LGBTQ++</mat-radio-button>
            </mat-radio-group>
    
            <label class="example-margin">Looking:</label>
            <mat-radio-group formControlName="gender">
              <mat-radio-button class="example-margin" value="male">Male</mat-radio-button>
              <mat-radio-button class="example-margin" value="female">Female</mat-radio-button>
              <mat-radio-button class="example-margin" value="All">LGBTQ++</mat-radio-button>
            </mat-radio-group>
        }
          <button mat-flat-button [disabled]="form.invalid">
            @if(mode==='login'){
            Login
            }
            @if(mode==='register'){
           Link Start!
         }</button>
        </form>
    
        <div class="login-spacer">or</div>
        @if(mode==='login'){
            <div class="toggle">New User? <span (click)="toggleMode()">Sign Up</span></div>
         }
        @if(mode==='register'){
            <div class="toggle">Already have an account? <span (click)="toggleMode()">Login Up</span></div>
         }
      </div>
    </mat-card>